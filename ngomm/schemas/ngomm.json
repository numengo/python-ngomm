{
  "$id": "https://numengo.org/ngomm#",
  "type": "object",
  "$comment": "automatically generated for ngomm",
  "$defs": {
    "contexts": {
      "type": "object",
      "$defs": {
        "NodeContext": {
          "type": "object",
          "notSerialized": [
            "_parentNode"
          ],
          "notValidated": [
            "_parentNode"
          ],
          "extends": [
            "https://numengo.org/ngoschema#/$defs/contexts/$defs/InstanceContext"
          ],
          "properties": {
            "_parentNode": {
              "type": "string"
            }
          }
        }
      }
    },
    "serializers": {
      "type": "object",
      "$defs": {
        "NodeSerializer": {
          "type": "object",
          "notSerialized": [
            "untypedNodes",
            "iconInstanceNode"
          ],
          "extends": [
            "https://numengo.org/ngoschema#/$defs/protocols/$defs/Serializer"
          ],
          "properties": {
            "node": {
              "$ref": "https://numengo.org/freeplane#/$defs/Node"
            },
            "untypedNodes": {
              "type": "array",
              "items": {
                "$ref": "https://numengo.org/freeplane#/$defs/Node"
              }
            },
            "iconInstanceNode": {
              "type": "string"
            }
          }
        }
      }
    },
    "instances": {
      "type": "object",
      "$defs": {
        "AbstractNode": {
          "type": "object",
          "abstract": true,
          "extends": [
            "#/$defs/contexts/$defs/NodeContext",
            "#/$defs/serializers/$defs/NodeSerializer"
          ]
        },
        "TranslatedNode": {
          "type": "object",
          "abstract": true,
          "extends": [
            "#/$defs/instances/$defs/AbstractNode"
          ],
          "properties": {
            "source_id": {
              "type": "string",
              "node ID the corresponding source translation": {
                "_icons": [
                  "idea"
                ]
              }
            },
            "language": {
              "type": "string"
            }
          }
        },
        "InstanceNode": {
          "type": "object",
          "extends": [
            "https://numengo.org/ngoschema#/$defs/instances/$defs/Instance",
            "#/$defs/instances/$defs/AbstractNode"
          ]
        },
        "EntityNode": {
          "type": "object",
          "primaryKeys": [
            "node_id"
          ],
          "dependencies": {
            "node_id": [
              "node"
            ]
          },
          "extends": [
            "https://numengo.org/ngoschema#/$defs/instances/$defs/Entity",
            "#/$defs/instances/$defs/AbstractNode"
          ],
          "properties": {
            "node_id": {
              "type": "string"
            },
            "last_modified": {
              "type": "string"
            }
          }
        },
        "TranslatedInstanceNode": {
          "type": "object",
          "extends": [
            "#/$defs/instances/$defs/InstanceNode",
            "#/$defs/instances/$defs/TranslatedNode"
          ]
        },
        "TranslatedEntityNode": {
          "type": "object",
          "extends": [
            "#/$defs/instances/$defs/EntityNode",
            "#/$defs/instances/$defs/TranslatedNode"
          ]
        }
      }
    },
    "nodes": {
      "type": "object",
      "$defs": {
        "FileNode": {
          "type": "object",
          "extends": [
            "#/$defs/instances/$defs/InstanceNode",
            "https://numengo.org/ngoschema#/$defs/files/$defs/File"
          ]
        },
        "FolderNode": {
          "type": "object",
          "extends": [
            "#/$defs/instances/$defs/InstanceNode"
          ],
          "properties": {
            "folder": {
              "type": "path"
            }
          }
        },
        "ImageNode": {
          "type": "object",
          "extends": [
            "#/$defs/nodes/$defs/FileNode"
          ],
          "properties": {
            "image_type": {
              "type": "string"
            }
          }
        },
        "VideoNode": {
          "type": "object",
          "extends": [
            "#/$defs/nodes/$defs/FileNode"
          ],
          "properties": {
            "video_type": {
              "type": "string"
            }
          }
        },
        "LinkNode": {
          "type": "object",
          "extends": [
            "#/$defs/instances/$defs/InstanceNode"
          ],
          "properties": {
            "url": {
              "type": "uri"
            }
          }
        },
        "DescriptionNode": {
          "type": "object",
          "extends": [
            "#/$defs/instances/$defs/InstanceNode"
          ]
        }
      }
    },
    "repositories": {
      "type": "object",
      "$defs": {
        "InstanceNodeRepository": {
          "type": "object",
          "extends": [
            "https://numengo.org/ngoschema#/$defs/repositories/$defs/MemoryRepository"
          ],
          "instanceClass": "ngomm.models.instances.InstanceNode"
        },
        "EntityNodeRepository": {
          "type": "object",
          "extends": [
            "#/$defs/repositories/$defs/InstanceNodeRepository"
          ],
          "instanceClass": "ngomm.models.instances.EntityNode"
        }
      }
    }
  }
}