{
  "$id": "https://numengo.org/ngomm#",
  "type": "object",
  "$comment": "automatically generated for ngomm",
  "$defs": {
    "contexts": {
      "type": "object",
      "$defs": {
        "NodeContext": {
          "type": "object",
          "extends": [
            "https://numengo.org/ngoschema#/$defs/contexts/$defs/InstanceContext"
          ],
          "notSerialized": [
            "_parentInstanceNode"
          ],
          "notValidated": [
            "_parentInstanceNode"
          ],
          "properties": {
            "_parentInstanceNode": {
              "type": "string"
            }
          }
        }
      }
    },
    "serializers": {
      "type": "object",
      "$defs": {
        "NodeSerializer": {
          "type": "object",
          "extends": [
            "https://numengo.org/ngoschema#/$defs/protocols/$defs/Serializer"
          ],
          "notSerialized": [
            "iconInstanceNode",
            "untypedNodes"
          ],
          "notValidated": [
            "iconInstanceNode",
            "untypedNodes"
          ],
          "properties": {
            "node": {
              "$ref": "https://numengo.org/freeplane#/$defs/Node"
            },
            "untypedNodes": {
              "type": "array",
              "items": {
                "$ref": "https://numengo.org/freeplane#/$defs/Node"
              }
            },
            "iconInstanceNode": {
              "type": "string"
            }
          }
        }
      }
    },
    "instances": {
      "type": "object",
      "$defs": {
        "InstanceNode": {
          "type": "object",
          "extends": [
            "#/$defs/contexts/$defs/NodeContext",
            "#/$defs/serializers/$defs/NodeSerializer"
          ]
        },
        "EntityNode": {
          "type": "object",
          "extends": [
            "https://numengo.org/ngoschema#/$defs/instances/$defs/Entity",
            "#/$defs/instances/$defs/InstanceNode"
          ],
          "properties": {
            "node_id": {
              "type": "string",
              "default": "{% if this.node %}{{this.node.ID}}{% endif %}"
            },
            "last_modified": {
              "type": "string",
              "default": "{% if this.node %}{{this.node.MODIFIED}}{% endif %}"
            }
          }
        }
      }
    },
    "repositories": {
      "type": "object",
      "$defs": {
        "InstanceNodeRepository": {
          "type": "object",
          "extends": [
            "https://numengo.org/ngoschema#/$defs/repositories/$defs/MemoryRepository"
          ],
          "instanceClass": "ngomm.models.instances.InstanceNode"
        }
      },
      "EntityNodeRepository": {
        "type": "object",
        "extends": [
          "#/$defs/repositories/$defs/InstanceNodeRepository"
        ],
        "instanceClass": "ngomm.models.instances.EntityNode"
      }
    }
  }
}
